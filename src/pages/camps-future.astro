---
import CampList from '../components/CampList.astro'
 
import { getCollection } from 'astro:content';
const camps = await getCollection('camps');

interface Camp {
    id: string,
    data: {
        id: string,
        name: string,
        presenter: string,
        presenterUrl: string,
        theme: string,
        start: Date,
        end: Date,
        layout: string,
    },
    body: string,
    file: string,
    filePath: string,
    digest: string,
};

function compare( a: Camp, b: Camp ) {
    const aEnd = new Date(a.data.end).getTime();
    const bEnd = new Date(b.data.end).getTime();
    return (aEnd > bEnd) ? 1 : -1;
}

const campsSorted = Object.values(camps).sort(compare); 
---

<CampList title="Upcoming Camps" camps={campsSorted} future=true />
